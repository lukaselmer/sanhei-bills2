<md-progress-bar *ngIf="loadStatus === 'loading'" mode="query" color="accent"></md-progress-bar>
<md-progress-bar *ngIf="loadStatus === 'loadedFromIDB' || loadStatus === 'shortListLoaded'" mode="indeterminate" color="accent"></md-progress-bar>

<h1>Rechnungen</h1>

<md-form-field>
  <input mdInput placeholder="Finden" #searchTerm (keyup)="searchKeyup(searchTerm.value)">
</md-form-field>

<md-card *ngFor="let bill of bills$ | async" (click)="editBill(bill)">
  <md-card-title>{{bill.uid}} | {{ bill.humanId }}</md-card-title>
  <md-card-subtitle>
    <div>{{ bill.title1 }}, {{ bill.title2 }}</div>
    <div>{{ bill.commaSeparatedAddress }}</div>
  </md-card-subtitle>
  <md-card-content>
    <span *ngIf="bill.fixedAtOverride">Arbeiten am: {{ bill.fixedAtOverride }} | </span>
    <span *ngIf="!bill.fixedAtOverride && bill.fixedAt">Arbeiten am: {{ bill.fixedAt }} | </span>
    <span *ngIf="bill.billedAt">Verrechnet am: {{ bill.billedAt }} | </span>
    <span>{{ bill.totalNet | currency:'CHF' }} netto | {{ bill.totalGross | currency:'CHF' }} brutto</span>
    <div>{{ bill.ownerName }}, {{ bill.ordererName }}</div>
  </md-card-content>
</md-card>

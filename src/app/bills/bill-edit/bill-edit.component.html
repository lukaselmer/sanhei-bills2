<h1>Rechnung {{bill?.id}} bearbeiten</h1>

<form [formGroup]="form" (ngSubmit)="onSubmit()" novalidate>
  <md-card formArrayName="articles">
    <md-card-title>Artikel</md-card-title>
    <md-card-content>
      <div *ngFor="let article of articlesForm.controls; let i=index" [formGroupName]="i" class="article">
        <div>
          <md-form-field>
            <input mdInput formControlName="catalogId" placeholder="Katalognr.">
          </md-form-field>
        </div>
        <div>
          <md-form-field>
            <input mdInput formControlName="description" placeholder="Beschreibung">
          </md-form-field>
        </div>
        <div>
          <md-form-field>
            <input mdInput formControlName="dimension" placeholder="Dimension">
          </md-form-field>
        </div>
        <div>
          <md-form-field>
            <input mdInput formControlName="price" placeholder="Preis">
          </md-form-field>
        </div>
        <div>
          <md-form-field>
            <input mdInput formControlName="amount" placeholder="Anzahl">
          </md-form-field>
        </div>
        <div>
          <button md-icon-button type="button" (click)="removeArticleAt(i)">
            <i class="material-icons">delete</i>
          </button>
        </div>
      </div>
    </md-card-content>
    <md-card-actions>
      <button md-button type="button" (click)="addNewArticle(1)">1 ARTIKEL HINZUFÜGEN</button>
      <button md-button type="button" (click)="addNewArticle(5)">5 ARTIKEL HINZUFÜGEN</button>
      <button md-button type="button" (click)="addNewArticle(10)">10 ARTIKEL HINZUFÜGEN</button>
    </md-card-actions>
  </md-card>

  <md-card>
    <md-form-field>
      <textarea mdInput formControlName="address" mdTextareaAutosize placeholder="Adresse"></textarea>
    </md-form-field>
    <md-form-field>
      <input mdInput formControlName="billType" placeholder="Art (Rechnung / Offerte / Spezial)">
    </md-form-field>
    <md-form-field>
      <input mdInput formControlName="title1" placeholder="Titel Rechnung">
    </md-form-field>
    <md-form-field>
      <input mdInput formControlName="ownerName" placeholder="Eigentümer">
    </md-form-field>
    <md-form-field>
      <input mdInput formControlName="ordererName" placeholder="Auftraggeber/Nr">
    </md-form-field>
  </md-card>

  <md-card>
    <md-form-field>
      <input mdInput formControlName="title2" placeholder="Titel Beschreibung">
    </md-form-field>
    <md-form-field>
      <textarea mdInput formControlName="description" mdTextareaAutosize placeholder="Arbeitsbeschreibung"></textarea>
    </md-form-field>
  </md-card>

  <md-card>
    <md-form-field>
      <input mdInput formControlName="fixedAtDescription" placeholder="Ausgeführte Arbeiten am (yyyy-mm-dd als Datum, oder Freitext)">
    </md-form-field>
    <md-form-field>
      <input mdInput formControlName="orderedAt" placeholder="Auftragsdatum (yyyy-mm-dd)">
    </md-form-field>
    <md-form-field>
      <input mdInput formControlName="billedAt" placeholder="Verrechnet am (yyyy-mm-dd)">
    </md-form-field>
  </md-card>

  <md-card>
    <md-form-field>
      <input mdInput formControlName="cashback" placeholder="Skonto in %">
    </md-form-field>
    <md-form-field>
      <input mdInput formControlName="vat" placeholder="MWST in %">
    </md-form-field>
    <md-form-field>
      <input mdInput formControlName="discount" placeholder="Rabatt">
    </md-form-field>
  </md-card>

  <button md-raised-button color="primary" type="submit">SPEICHERN</button>

  <button md-raised-button class="abort-button" type="button" (click)="abort()">ABBRECHEN</button>

  <button md-fab color="primary" class="floating-save-button" type="submit">
    <md-icon class="md-24" aria-label="Speichern">save</md-icon>
  </button>
</form>
